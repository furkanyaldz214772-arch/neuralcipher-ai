(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9810],{44971:function(t,e,s){Promise.resolve().then(s.bind(s,37465))},37465:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return n}});var a=s(3827),r=s(64090),i=s(58626),l=s(11147);function n(){let[t,e]=(0,r.useState)({totalPatients:0,activePatients:0,testsThisMonth:0,testsLastMonth:0,avgRiskScore:0,riskDistribution:{normal:0,warning:0,risk:0,high_risk:0},monthlyTests:[],topRiskPatients:[]}),[s,n]=(0,r.useState)(!0);(0,r.useEffect)(()=>{x()},[]);let x=async()=>{try{let t=await l.Z.get("/api/v1/doctor/analytics");e(t.data)}catch(t){console.error("Failed to fetch analytics:",t)}finally{n(!1)}};if(s)return(0,a.jsx)(i.Z,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"w-12 h-12 border-2 border-electric-cyan border-t-transparent rounded-full animate-spin"})})});let h=t.testsLastMonth>0?((t.testsThisMonth-t.testsLastMonth)/t.testsLastMonth*100).toFixed(1):"0";return(0,a.jsx)(i.Z,{children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-sora font-bold text-white mb-2",children:"Analytics Dashboard"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 font-roboto",children:"Monitor patient trends and insights"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,a.jsx)(o,{title:"Total Patients",value:t.totalPatients,subtitle:"".concat(t.activePatients," active"),color:"rgba(100, 255, 218, 0.6)"}),(0,a.jsx)(o,{title:"Tests This Month",value:t.testsThisMonth,subtitle:"".concat(h,"% ").concat(Number(h)>=0?"↑":"↓"," vs last month"),color:"rgba(132, 204, 22, 0.6)"}),(0,a.jsx)(o,{title:"Average Risk",value:t.avgRiskScore,subtitle:"All patients",color:"rgba(245, 158, 11, 0.6)"}),(0,a.jsx)(o,{title:"High Risk",value:t.riskDistribution.high_risk,subtitle:"Urgent follow-up",color:"rgba(236, 72, 153, 0.6)"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5 mb-6",children:[(0,a.jsxs)("div",{className:"rounded-xl p-6 transition-all duration-200 hover:-translate-y-0.5",style:{background:"rgba(15, 23, 42, 0.6)",border:"1px solid rgba(100, 255, 218, 0.15)",backdropFilter:"blur(10px)"},children:[(0,a.jsx)("h3",{className:"text-base font-sora font-semibold text-white mb-4",children:"Risk Distribution"}),(0,a.jsx)(c,{distribution:t.riskDistribution})]}),(0,a.jsxs)("div",{className:"rounded-xl p-6 transition-all duration-200 hover:-translate-y-0.5",style:{background:"rgba(15, 23, 42, 0.6)",border:"1px solid rgba(100, 255, 218, 0.15)",backdropFilter:"blur(10px)"},children:[(0,a.jsx)("h3",{className:"text-base font-sora font-semibold text-white mb-4",children:"Monthly Test Trend"}),(0,a.jsx)(d,{data:t.monthlyTests})]})]}),(0,a.jsxs)("div",{className:"rounded-xl transition-all duration-200 hover:-translate-y-0.5",style:{background:"rgba(15, 23, 42, 0.6)",border:"1px solid rgba(100, 255, 218, 0.15)",backdropFilter:"blur(10px)"},children:[(0,a.jsx)("div",{className:"p-6",style:{borderBottom:"1px solid rgba(100, 255, 218, 0.1)"},children:(0,a.jsx)("h3",{className:"text-base font-sora font-semibold text-white",children:"High Risk Patients"})}),(0,a.jsx)("div",{children:0===t.topRiskPatients.length?(0,a.jsx)("div",{className:"p-12 text-center",children:(0,a.jsx)("p",{className:"text-gray-400 font-roboto text-sm",children:"No high risk patients"})}):t.topRiskPatients.map((e,s)=>(0,a.jsx)("div",{className:"p-5 transition-all duration-200 hover:-translate-y-0.5 group cursor-pointer",style:{borderBottom:s<t.topRiskPatients.length-1?"1px solid rgba(100, 255, 218, 0.1)":"none"},children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{background:"rgba(100, 255, 218, 0.1)",border:"1px solid rgba(100, 255, 218, 0.3)"},children:(0,a.jsx)("span",{className:"text-electric-cyan font-bold",children:e.name.charAt(0)})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-white font-sora group-hover:text-electric-cyan transition-colors",children:e.name}),(0,a.jsxs)("div",{className:"text-xs text-gray-400 font-roboto",children:["Last test: ",new Date(e.latest_test_date).toLocaleDateString("en-US",{day:"numeric",month:"short"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-xl font-bold text-red-400 font-sora",children:e.risk_score}),(0,a.jsx)("div",{className:"text-xs text-gray-500 font-roboto",children:"Risk Score"})]}),(0,a.jsx)("button",{className:"px-4 py-2 text-sm rounded-lg font-sora font-medium transition-all duration-200 hover:scale-105",style:{background:"rgba(100, 255, 218, 0.15)",border:"1px solid rgba(100, 255, 218, 0.4)",color:"#64FFDA"},children:"View"})]})]})},e.id))})]})]})})}function o(t){let{title:e,value:s,subtitle:r,color:i}=t;return(0,a.jsxs)("div",{className:"group relative overflow-hidden rounded-lg p-4 transition-all duration-200 hover:-translate-y-0.5",style:{background:"rgba(15, 23, 42, 0.4)",border:"1px solid rgba(100, 255, 218, 0.1)",backdropFilter:"blur(10px)"},children:[(0,a.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-0.5 opacity-60 group-hover:opacity-100 transition-opacity",style:{background:i}}),(0,a.jsxs)("div",{className:"relative z-10 pl-2",children:[(0,a.jsx)("div",{className:"text-2xl font-sora font-bold text-white mb-1",children:s}),(0,a.jsx)("div",{className:"text-xs text-gray-500 font-roboto font-medium mb-1",children:e}),(0,a.jsx)("div",{className:"text-xs text-gray-600 font-roboto",children:r})]})]})}function c(t){let{distribution:e}=t,s=Object.values(e).reduce((t,e)=>t+e,0),r=[{label:"Normal",value:e.normal,color:"rgba(132, 204, 22, 0.6)",percentage:(e.normal/s*100).toFixed(0)},{label:"Warning",value:e.warning,color:"rgba(245, 158, 11, 0.6)",percentage:(e.warning/s*100).toFixed(0)},{label:"Risk",value:e.risk,color:"rgba(251, 146, 60, 0.6)",percentage:(e.risk/s*100).toFixed(0)},{label:"High Risk",value:e.high_risk,color:"rgba(236, 72, 153, 0.6)",percentage:(e.high_risk/s*100).toFixed(0)}];return(0,a.jsx)("div",{className:"space-y-3",children:r.map(t=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1.5",children:[(0,a.jsx)("span",{className:"text-xs font-medium text-gray-400 font-roboto",children:t.label}),(0,a.jsxs)("span",{className:"text-xs text-gray-500 font-roboto",children:[t.value," patients (",t.percentage,"%)"]})]}),(0,a.jsx)("div",{className:"w-full rounded-full h-2",style:{background:"rgba(100, 255, 218, 0.1)"},children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:"".concat(t.percentage,"%"),background:t.color}})})]},t.label))})}function d(t){let{data:e}=t;if(!e||0===e.length)return(0,a.jsx)("div",{className:"text-center py-8 text-gray-500 font-roboto text-sm",children:"No data available"});let s=Math.max(...e.map(t=>t.count));return(0,a.jsx)("div",{className:"space-y-3",children:e.map(t=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1.5",children:[(0,a.jsx)("span",{className:"text-xs font-medium text-gray-400 font-roboto",children:t.month}),(0,a.jsxs)("span",{className:"text-xs text-gray-500 font-roboto",children:[t.count," tests"]})]}),(0,a.jsx)("div",{className:"w-full rounded-full h-2",style:{background:"rgba(100, 255, 218, 0.1)"},children:(0,a.jsx)("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:"".concat(t.count/s*100,"%"),background:"rgba(100, 255, 218, 0.6)"}})})]},t.month))})}}},function(t){t.O(0,[5660,9351,1744],function(){return t(t.s=44971)}),_N_E=t.O()}]);