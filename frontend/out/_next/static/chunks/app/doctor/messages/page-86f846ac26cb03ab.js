(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5436],{36003:function(e,s,t){Promise.resolve().then(t.bind(t,9602))},9602:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return l}});var r=t(3827),a=t(64090),n=t(58626),o=t(11147);function l(){let[e,s]=(0,a.useState)([]),[t,l]=(0,a.useState)(""),[i,c]=(0,a.useState)(!0),[d,x]=(0,a.useState)(!1);(0,a.useEffect)(()=>{m()},[]);let m=async()=>{try{let e=await o.Z.get("/api/v1/messages");s(e.data)}catch(e){console.error("Failed to fetch messages:",e)}finally{c(!1)}},h=async()=>{if(t.trim()){x(!0);try{await o.Z.post("/api/v1/messages",{content:t,receiver_role:"doctor"}),l(""),m()}catch(e){console.error("Failed to send message:",e)}finally{x(!1)}}};return i?(0,r.jsx)(n.Z,{children:(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"w-16 h-16 border-4 border-electric-cyan border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("div",{className:"absolute inset-0 w-16 h-16 border-4 border-neon-glow border-t-transparent rounded-full animate-spin opacity-50",style:{animationDirection:"reverse",animationDuration:"1s"}})]})})}):(0,r.jsx)(n.Z,{children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-sora font-bold text-white mb-2",children:"Doctor Communication"}),(0,r.jsx)("p",{className:"text-base text-gray-400 font-roboto",children:"Send messages to your doctor and get information about your test results"})]}),(0,r.jsxs)("div",{className:"rounded-xl p-6 mb-6 h-[500px] flex flex-col",style:{background:"rgba(15, 23, 42, 0.6)",border:"1px solid rgba(100, 255, 218, 0.15)",backdropFilter:"blur(10px)"},children:[(0,r.jsx)("div",{className:"flex-1 overflow-y-auto mb-6 space-y-4",children:0===e.length?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 rounded-xl flex items-center justify-center mb-4",style:{background:"rgba(100, 255, 218, 0.1)",border:"1px solid rgba(100, 255, 218, 0.3)"},children:(0,r.jsx)("svg",{className:"w-8 h-8 text-electric-cyan",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})})}),(0,r.jsx)("p",{className:"text-gray-400 font-roboto mb-2",children:"No messages yet"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 font-roboto",children:"Send your first message to your doctor"})]}):e.map(e=>(0,r.jsx)("div",{className:"flex ".concat(e.sender_name?"justify-start":"justify-end"),children:(0,r.jsxs)("div",{className:"max-w-[70%] p-4 rounded-xl ".concat(e.sender_name?"border":""),style:{background:e.sender_name?"rgba(15, 23, 42, 0.6)":"rgba(100, 255, 218, 0.15)",border:e.sender_name?"1px solid rgba(100, 255, 218, 0.2)":"1px solid rgba(100, 255, 218, 0.3)"},children:[e.sender_name&&(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,r.jsx)("div",{className:"w-7 h-7 rounded-lg flex items-center justify-center",style:{background:"rgba(100, 255, 218, 0.1)",border:"1px solid rgba(100, 255, 218, 0.3)"},children:(0,r.jsx)("svg",{className:"w-4 h-4 text-electric-cyan",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})})}),(0,r.jsx)("span",{className:"text-sm font-medium text-electric-cyan font-roboto",children:e.sender_name})]}),(0,r.jsx)("p",{className:"font-roboto ".concat(e.sender_name?"text-white":"text-electric-cyan"),children:e.content}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-2 font-roboto",children:new Date(e.created_at).toLocaleString("en-US")})]})},e.id))}),(0,r.jsxs)("div",{className:"flex items-end space-x-3",children:[(0,r.jsx)("textarea",{value:t,onChange:e=>l(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),h())},placeholder:"Type your message...",rows:3,className:"flex-1 px-4 py-3 text-white rounded-lg focus:ring-1 focus:ring-electric-cyan focus:border-transparent transition-all resize-none font-roboto text-sm",style:{background:"rgba(15, 23, 42, 0.6)",border:"1px solid rgba(100, 255, 218, 0.2)"}}),(0,r.jsx)("button",{onClick:h,disabled:!t.trim()||d,className:"px-5 py-3 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-sora font-medium h-[84px] flex items-center justify-center",style:{background:t.trim()&&!d?"rgba(100, 255, 218, 0.15)":"rgba(100, 255, 218, 0.05)",border:t.trim()&&!d?"1px solid rgba(100, 255, 218, 0.4)":"1px solid rgba(100, 255, 218, 0.1)",color:t.trim()&&!d?"#64FFDA":"#6B7280"},children:d?(0,r.jsx)("div",{className:"w-5 h-5 border-2 border-electric-cyan border-t-transparent rounded-full animate-spin"}):(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsx)("div",{className:"rounded-lg p-4",style:{background:"rgba(15, 23, 42, 0.6)",border:"1px solid rgba(100, 255, 218, 0.15)"},children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-electric-cyan",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs text-gray-500 font-roboto",children:"Response Time"}),(0,r.jsx)("div",{className:"text-base font-semibold text-white font-sora",children:"~2 hours"})]})]})}),(0,r.jsx)("div",{className:"rounded-lg p-4",style:{background:"rgba(15, 23, 42, 0.6)",border:"1px solid rgba(100, 255, 218, 0.15)"},children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-electric-cyan",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs text-gray-500 font-roboto",children:"Messages"}),(0,r.jsx)("div",{className:"text-base font-semibold text-white font-sora",children:e.length})]})]})}),(0,r.jsx)("div",{className:"rounded-lg p-4",style:{background:"rgba(15, 23, 42, 0.6)",border:"1px solid rgba(100, 255, 218, 0.15)"},children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-electric-cyan",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs text-gray-500 font-roboto",children:"Status"}),(0,r.jsx)("div",{className:"text-base font-semibold text-electric-cyan font-sora",children:"Active"})]})]})})]}),(0,r.jsxs)("div",{className:"mt-6 rounded-xl p-5",style:{background:"rgba(15, 23, 42, 0.6)",border:"1px solid rgba(100, 255, 218, 0.2)"},children:[(0,r.jsxs)("h3",{className:"font-sora font-semibold text-white text-base mb-4 flex items-center",children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-2 text-electric-cyan",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),"Tips"]}),(0,r.jsxs)("ul",{className:"space-y-2 text-sm text-gray-400 font-roboto",children:[(0,r.jsxs)("li",{className:"flex items-start",children:[(0,r.jsx)("span",{className:"mr-2 text-electric-cyan",children:"•"}),(0,r.jsx)("span",{children:"You can ask questions about your test results"})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[(0,r.jsx)("span",{className:"mr-2 text-electric-cyan",children:"•"}),(0,r.jsx)("span",{children:"Your doctor typically responds within 2 hours"})]}),(0,r.jsxs)("li",{className:"flex items-start",children:[(0,r.jsx)("span",{className:"mr-2 text-electric-cyan",children:"•"}),(0,r.jsx)("span",{children:"For emergencies, please call 911"})]})]})]})]})})}}},function(e){e.O(0,[5660,9351,1744],function(){return e(e.s=36003)}),_N_E=e.O()}]);