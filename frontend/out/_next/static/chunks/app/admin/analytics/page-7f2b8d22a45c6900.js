(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8668],{62346:function(e,t,s){Promise.resolve().then(s.bind(s,8103))},8103:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var r=s(3827),a=s(64090),n=s(47907),o=s(58626),i=s(6118),l=s(11147);function c(){let e=(0,n.useRouter)(),{user:t,isAuthenticated:s}=(0,i.t)(),[c,h]=(0,a.useState)({userGrowth:[],revenue:[],tests:{total:0,thisMonth:0,thisWeek:0,today:0},engagement:{avgTestsPerUser:0,activeUsers:0,returnRate:0},geography:[],testTypes:[]}),[x,m]=(0,a.useState)(!0),[u,g]=(0,a.useState)("30d");(0,a.useEffect)(()=>{if(!s){e.replace("/auth/login");return}if(t&&"admin"!==t.role){e.replace("/dashboard");return}(null==t?void 0:t.role)==="admin"&&b()},[t,s,e,u]);let b=async()=>{try{let e=await l.Z.get("/api/v1/admin/analytics?range=".concat(u));h(e.data)}catch(e){console.error("Failed to fetch analytics:",e)}finally{m(!1)}},j=e=>{console.log("Exporting analytics as ".concat(e)),alert("Export as ".concat(e.toUpperCase()," - Feature coming soon!"))};return x?(0,r.jsx)(o.Z,{children:(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)("div",{className:"w-12 h-12 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"})})}):(0,r.jsx)(o.Z,{children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-sora font-bold text-white mb-2",children:"System Analytics"}),(0,r.jsx)("p",{className:"text-gray-400 font-roboto",children:"Comprehensive system metrics and insights"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("select",{value:u,onChange:e=>g(e.target.value),className:"px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white focus:outline-none focus:border-cyan-500",children:[(0,r.jsx)("option",{value:"7d",children:"Last 7 Days"}),(0,r.jsx)("option",{value:"30d",children:"Last 30 Days"}),(0,r.jsx)("option",{value:"90d",children:"Last 90 Days"}),(0,r.jsx)("option",{value:"1y",children:"Last Year"})]}),(0,r.jsxs)("button",{onClick:()=>j("pdf"),className:"px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-white hover:bg-white/10 transition-colors flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"PDF"]}),(0,r.jsxs)("button",{onClick:()=>j("excel"),className:"px-4 py-2 bg-cyan-500 hover:bg-cyan-600 rounded-lg text-white font-semibold transition-colors flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Excel"]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,r.jsx)(d,{title:"Total Tests",value:c.tests.total.toLocaleString(),change:"+15%",subtitle:"".concat(c.tests.thisMonth," this month"),icon:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),color:"blue"}),(0,r.jsx)(d,{title:"Active Users",value:c.engagement.activeUsers.toLocaleString(),change:"+8%",subtitle:"Last 30 days",icon:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),color:"green"}),(0,r.jsx)(d,{title:"Avg Tests/User",value:c.engagement.avgTestsPerUser.toFixed(1),change:"+12%",subtitle:"Engagement metric",icon:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),color:"purple"}),(0,r.jsx)(d,{title:"Return Rate",value:"".concat(c.engagement.returnRate,"%"),change:"+5%",subtitle:"User retention",icon:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),color:"cyan"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 font-sora",children:"User Growth"}),(0,r.jsx)("div",{className:"h-64 flex items-center justify-center border border-white/10 rounded-lg bg-white/5",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("svg",{className:"w-16 h-16 mx-auto mb-3 text-cyan-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})}),(0,r.jsx)("p",{className:"text-gray-400 font-roboto",children:"Line chart showing user growth over time"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"(Chart.js integration)"})]})})]}),(0,r.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 font-sora",children:"Revenue Trend"}),(0,r.jsx)("div",{className:"h-64 flex items-center justify-center border border-white/10 rounded-lg bg-white/5",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("svg",{className:"w-16 h-16 mx-auto mb-3 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,r.jsx)("p",{className:"text-gray-400 font-roboto",children:"Bar chart showing monthly revenue"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"(Chart.js integration)"})]})})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 font-sora",children:"Test Types Distribution"}),(0,r.jsx)("div",{className:"space-y-3",children:0===c.testTypes.length?(0,r.jsx)("div",{className:"h-48 flex items-center justify-center text-gray-400",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("svg",{className:"w-12 h-12 mx-auto mb-2 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,r.jsx)("p",{className:"text-sm",children:"No test data available"})]})}):c.testTypes.map((e,t)=>(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,r.jsx)("span",{className:"text-sm text-gray-300 font-roboto",children:e.type}),(0,r.jsx)("span",{className:"text-sm font-semibold text-white",children:e.count})]}),(0,r.jsx)("div",{className:"w-full bg-white/10 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-500 h-2 rounded-full",style:{width:"".concat(e.count/c.tests.total*100,"%")}})})]},t))})]}),(0,r.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-white mb-4 font-sora",children:"Geographic Distribution"}),(0,r.jsx)("div",{className:"space-y-3",children:0===c.geography.length?(0,r.jsx)("div",{className:"h-48 flex items-center justify-center text-gray-400",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("svg",{className:"w-12 h-12 mx-auto mb-2 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("p",{className:"text-sm",children:"No geographic data available"})]})}):c.geography.slice(0,5).map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg border border-white/10",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-cyan-500/20 rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-cyan-400 font-bold text-sm",children:t+1})}),(0,r.jsx)("span",{className:"text-white font-roboto",children:e.country})]}),(0,r.jsx)("span",{className:"text-cyan-400 font-semibold",children:e.users})]},t))})]})]}),(0,r.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-white font-sora",children:"Real-time Metrics"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,r.jsx)("span",{className:"text-sm text-gray-400 font-roboto",children:"Live"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-gray-400 text-sm font-roboto",children:"Tests Today"}),(0,r.jsx)("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})]}),(0,r.jsx)("p",{className:"text-3xl font-bold text-white",children:c.tests.today}),(0,r.jsxs)("p",{className:"text-xs text-green-400 mt-1",children:["+",Math.floor(20*Math.random()),"% from yesterday"]})]}),(0,r.jsxs)("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-gray-400 text-sm font-roboto",children:"Tests This Week"}),(0,r.jsx)("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})]}),(0,r.jsx)("p",{className:"text-3xl font-bold text-white",children:c.tests.thisWeek}),(0,r.jsxs)("p",{className:"text-xs text-green-400 mt-1",children:["+",Math.floor(15*Math.random()),"% from last week"]})]}),(0,r.jsxs)("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-gray-400 text-sm font-roboto",children:"Tests This Month"}),(0,r.jsx)("svg",{className:"w-5 h-5 text-cyan-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})})]}),(0,r.jsx)("p",{className:"text-3xl font-bold text-white",children:c.tests.thisMonth}),(0,r.jsxs)("p",{className:"text-xs text-green-400 mt-1",children:["+",Math.floor(25*Math.random()),"% from last month"]})]})]})]})]})})}function d(e){let{title:t,value:s,change:a,subtitle:n,icon:o,color:i}=e;return(0,r.jsxs)("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl p-5",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center border ".concat({blue:"bg-blue-500/20 text-blue-400 border-blue-500/30",green:"bg-green-500/20 text-green-400 border-green-500/30",purple:"bg-purple-500/20 text-purple-400 border-purple-500/30",cyan:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30"}[i]),children:o}),(0,r.jsx)("span",{className:"text-sm font-medium text-green-400 font-roboto",children:a})]}),(0,r.jsx)("div",{className:"text-2xl font-bold text-white mb-1 font-sora",children:s}),(0,r.jsx)("div",{className:"text-sm text-gray-400 font-roboto",children:t}),(0,r.jsx)("div",{className:"text-xs text-gray-500 mt-1 font-roboto",children:n})]})}}},function(e){e.O(0,[5660,9351,1744],function(){return e(e.s=62346)}),_N_E=e.O()}]);